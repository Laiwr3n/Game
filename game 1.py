import random

class Player:
    def __init__(self, name):
        self.name = name
        self.health = 100000
        self.attack_power =25000
        self.realm = "炼气"  # 初始境界
        self.experience = 0  # 经验值

    def cultivate(self):
        health_gain, attack_gain, experience_gain = self.get_cultivation_benefits()
        self.health += health_gain
        self.attack_power += attack_gain
        self.experience += experience_gain
        print(f"{self.name} 通过修炼恢复了 {health_gain} 点健康，提升了 {attack_gain} 点攻击力，获得了 {experience_gain} 点经验。")
        self.check_realm_upgrade()

    def get_cultivation_benefits(self):
        # 根据境界调整修炼的效果
        benefits = {
            "炼气": (1000, 250, 100),
            "筑基": (4000, 480, 500),
            "结丹": (10900, 1320, 1130),
            "元婴": (30000, 3100, 9000),
            "化神": (120000, 9500 , 29000),
            "炼虚": (800000, 20900, 67000),
            "合体": (1790000, 71000, 200070),
            "大乘": (4000000, 250000, 800000),
            "人仙": (1000000000, 21000000, 100000000),
            "地仙": (4500000000, 70000000, 800000000),
            "天仙": (30000000000, 480000000, 4000000000),
            "金仙": (70000000000, 960000000, 9800000000),
            "太乙金仙": (140000000000, 1920000000, 19600000000),
            "大罗金仙": (420000000000, 5760000000, 58800000000),
            "圣人":    (1000000000000, 50000000000, 100000000000),
        }
        return benefits.get(self.realm, (10, 5, 10))

    def attack(self, enemy):
        damage = random.randint(1, self.attack_power)
        enemy.health -= damage
        return damage

    def check_realm_upgrade(self):
        realm_upgrade = {
            "炼气": ("筑基", 100),
            "筑基": ("结丹", 500),
            "结丹": ("元婴", 1100),
            "元婴": ("化神", 9000),
            "化神": ("炼虚", 29000),
            "炼虚": ("合体", 67000),
            "合体": ("大乘", 200070),
            "大乘": ("人仙", 800000),
            "人仙": ("地仙", 100000000),
            "地仙": ("天仙", 800000000),
            "天仙": ("金仙", 4000000000),
            "金仙": ("太乙金仙", 9800000000),
            "太乙金仙": ("大罗金仙", 58800000000),
            "大罗金仙": ("圣人",100000000000 )
        }

        if self.realm in realm_upgrade:
            next_realm, experience_required = realm_upgrade[self.realm]
            if self.experience >= experience_required:
                self.realm = next_realm
                print(f"{self.name} 突破到了 {self.realm} 境界！")
                if self.realm == "人仙":
                    self.ascend()

    def ascend(self):
        self.health += 10000000000
        self.attack_power += 500000000
        print(f"{self.name} 飞升到了仙界，开始新的修炼旅程！")

    def display_status(self):
        print(f"{self.name} 的状态：")
        print(f"健康：{self.health}")
        print(f"攻击力：{self.attack_power}")
        print(f"境界：{self.realm}")
        print(f"经验值：{self.experience}")

class Enemy:
    def __init__(self, name, health, attack_power, realm):
        self.name = name
        self.health = health
        self.attack_power = attack_power
        self.realm = realm

    def attack(self, player):
        damage = random.randint(1, self.attack_power)
        player.health -= damage
        return damage

def generate_enemy(player_realm):
    enemies = {
        
        "炼气": [
            Enemy("狂暴火焰魔", 420000000000, 5760000000, "炼气"),
            Enemy("血腥山贼", 420000000000, 5760000000, "炼气"),
            Enemy("荒古妖灵", 420000000000, 5760000000, "炼气"),
            Enemy("幽冥鬼卒", 420000000000, 5760000000, "炼气"),
            Enemy("暗影精灵", 420000000000, 5760000000, "炼气"),
            Enemy("猛兽", 420000000000, 5760000000, "炼气"),
            Enemy("域外邪魔",420000000000, 5760000000, "炼气")
        ],
        "筑基": [
            Enemy("炽焰妖兽", 420000000000, 5760000000,"筑基"),
            Enemy("暗黑魔修", 420000000000, 5760000000,  "筑基"),
            Enemy("血月中级妖王", 420000000000, 5760000000,  "筑基"),
            Enemy("冥界鬼王", 420000000000, 5760000000,  "筑基"),
            Enemy("天界精灵", 420000000000, 5760000000 , "筑基"),
            Enemy("狂野兽人", 420000000000, 5760000000, "筑基"),
            Enemy("域外邪魔", 420000000000, 5760000000, "筑基")
        ],
        "结丹": [
            Enemy("雷霆妖王", 420000000000, 5760000000, "结丹"),
            Enemy("邪魔法尊",420000000000, 5760000000, "结丹"),
            Enemy("苍穹妖尊", 420000000000, 5760000000, "结丹"),
            Enemy("鬼灵尊者", 420000000000, 5760000000, "结丹"),
            Enemy("天使战神", 420000000000, 5760000000, "结丹"),
            Enemy("狂暴兽神", 420000000000, 5760000000, "结丹"),
            Enemy("域外邪魔", 420000000000, 5760000000, "结丹")
        ],
        "元婴": [
            Enemy("天地妖帝", 420000000000, 5760000000, "元婴"),
            Enemy("虚空魔帝", 420000000000, 5760000000, "元婴"),
            Enemy("圣域妖王", 420000000000, 5760000000, "元婴"),
            Enemy("鬼神至尊", 420000000000, 5760000000, "元婴"),
            Enemy("天界精灵皇", 420000000000, 5760000000, "元婴"),
            Enemy("兽王", 420000000000, 5760000000, "元婴"),
            Enemy("域外邪魔", 420000000000, 5760000000, "元婴")
        ],
        "化神": [
            Enemy("九天仙兽", 420000000000, 5760000000, "化神"),
            Enemy("血狱魔君", 420000000000, 5760000000, "化神"),
            Enemy("神圣妖皇", 420000000000, 5760000000, "化神"),
            Enemy("幽冥鬼尊", 420000000000, 5760000000, "化神"),
            Enemy("天使皇帝", 420000000000, 5760000000, "化神"),
            Enemy("霸主兽皇", 420000000000, 5760000000, "化神"),
            Enemy("域外邪魔", 420000000000, 5760000000, "化神")
        ],
        "炼虚": [
            Enemy("混沌神兽", 420000000000, 5760000000, "炼虚"),
            Enemy("黑暗魔皇", 420000000000, 5760000000, "炼虚"),
            Enemy("神话妖帝", 420000000000, 5760000000, "炼虚"),
            Enemy("冥界魔尊", 420000000000, 5760000000, "炼虚"),
            Enemy("天空精灵王", 420000000000, 5760000000, "炼虚"),
            Enemy("无尽兽神", 420000000000, 5760000000, "炼虚"),
            Enemy("域外邪魔", 420000000000, 5760000000, "炼虚")
        ],
        "合体": [
            Enemy("至尊龙兽", 420000000000, 5760000000, "合体"),
            Enemy("暗黑冥魔", 420000000000, 5760000000, "合体"),
            Enemy("神灵妖尊", 420000000000, 5760000000, "合体"),
            Enemy("幽冥鬼皇", 420000000000, 5760000000, "合体"),
            Enemy("天界精灵皇", 420000000000, 5760000000, "合体"),
            Enemy("终极兽王", 420000000000, 5760000000, "合体"),
            Enemy("域外邪魔", 420000000000, 5760000000, "合体")
        ],
        "大乘": [
            Enemy("万象龙皇", 420000000000, 5760000000, "大乘"),
            Enemy("地狱魔神", 420000000000, 5760000000, "大乘"),
            Enemy("神皇妖帝", 420000000000, 5760000000, "大乘"),
            Enemy("混沌鬼尊", 420000000000, 5760000000, "大乘"),
            Enemy("天界精灵帝", 420000000000, 5760000000, "大乘"),
            Enemy("绝世兽神", 420000000000, 5760000000, "大乘"),
            Enemy("域外邪魔", 420000000000, 5760000000, "大乘")
        ],

        "人仙": [
            Enemy("万象天帝", 420000000000, 5760000000, "人仙"),
            Enemy("虚空魔尊", 420000000000, 5760000000, "人仙"),
            Enemy("神圣妖皇", 420000000000, 5760000000, "人仙"),
            Enemy("冥界鬼尊", 420000000000, 5760000000, "人仙"),
            Enemy("天界精灵帝", 420000000000, 5760000000, "人仙"),
            Enemy("至尊兽皇", 420000000000, 5760000000, "人仙"),
            Enemy("域外邪魔", 420000000000, 5760000000, "人仙")
        ],
        "地仙": [
            Enemy("天界至尊", 1000000000000, 50000000000, "地仙"),
            Enemy("黑暗神魔", 1000000000000, 50000000000, "地仙"),
            Enemy("神圣妖尊", 1000000000000, 50000000000, "地仙"),
            Enemy("冥界鬼帝", 1000000000000, 50000000000, "地仙"),
            Enemy("天界精灵皇", 1000000000000, 50000000000, "地仙"),
            Enemy("无尽兽神", 1000000000000, 50000000000, "地仙"),
            Enemy("域外邪魔", 1000000000000, 50000000000, "地仙")
        ],
        "天仙": [
            Enemy("苍穹天帝", 1000000000000, 50000000000, "天仙"),
            Enemy("黑暗魔帝", 1000000000000, 50000000000, "天仙"),
            Enemy("神圣妖尊", 1000000000000, 50000000000, "天仙"),
            Enemy("混沌鬼王", 1000000000000, 50000000000, "天仙"),
            Enemy("天界精灵皇帝", 1000000000000, 50000000000, "天仙"),
            Enemy("无尽兽帝", 1000000000000, 50000000000, "天仙"),
            Enemy("域外邪魔", 1000000000000, 50000000000, "天仙")
        ],
        "金仙": [
            Enemy("天界至尊", 1000000000000, 50000000000, "金仙"),
            Enemy("黑暗神皇", 1000000000000, 50000000000, "金仙"),
            Enemy("神圣妖王", 1000000000000, 50000000000, "金仙"),
            Enemy("冥界鬼帝", 1000000000000, 50000000000, "金仙"),
            Enemy("天界精灵皇帝", 1000000000000, 50000000000, "金仙"),
            Enemy("至尊兽神", 1000000000000, 50000000000, "金仙"),
            Enemy("域外邪魔", 1000000000000, 50000000000, "金仙")
        ],
        "太乙金仙": [
            Enemy("天界至尊", 1000000000000, 50000000000, "太乙金仙"),
            Enemy("黑暗魔帝", 1000000000000, 50000000000, "太乙金仙"),
            Enemy("神圣妖帝", 1000000000000, 50000000000, "太乙金仙"),
            Enemy("冥界鬼尊", 1000000000000, 50000000000, "太乙金仙"),
            Enemy("天界精灵皇帝", 1000000000000, 50000000000, "太乙金仙"),
            Enemy("无尽兽帝", 1000000000000, 50000000000, "太乙金仙"),
            Enemy("域外邪魔", 1000000000000, 50000000000, "太乙金仙")
        ],
        "大罗金仙": [
            Enemy("天界主宰", 1000000000000, 50000000000, "大罗金仙"),
            Enemy("黑暗神尊", 1000000000000, 50000000000, "大罗金仙"),
            Enemy("神圣妖皇", 1000000000000, 50000000000, "大罗金仙"),
            Enemy("冥界鬼帝", 1000000000000, 50000000000, "大罗金仙"),
            Enemy("天界精灵至尊", 1000000000000, 50000000000, "大罗金仙"),
            Enemy("绝世兽皇", 1000000000000, 50000000000, "大罗金仙"),
            Enemy("域外邪魔", 1000000000000, 50000000000, "大罗金仙")
        ],
        "圣人": [
            Enemy("天界神皇", 1000000000000, 50000000000, "圣人"),
            Enemy("混沌神帝", 1000000000000, 50000000000, "圣人"),
            Enemy("神圣妖皇", 1000000000000, 50000000000, "圣人"),
            Enemy("冥界鬼王", 1000000000000, 50000000000, "圣人"),
            Enemy("天界精灵皇帝", 1000000000000, 50000000000, "圣人"),
            Enemy("终极兽帝", 1000000000000, 50000000000, "圣人"),
            Enemy("域外邪魔", 1000000000000, 50000000000, "圣人")
        ]
    }
    return enemies.get(player_realm, [])


import random

def main():
    print("欢迎来到修仙游戏的世界！在这里，你将通过修炼提升自己的境界，与强大的敌人战斗，并最终飞升成仙。")
    player_name = input("请输入你的名字：")
    player = Player(player_name)

    while player.health > 0:
        print("\n请选择你的行动：")
        print("1. 修炼")
        print("2. 外出战斗")
        print("3. 查看状态")
        print("4. 退出游戏")
        choice = input("请输入选项编号：")

        if choice == "1":
            player.cultivate()
        elif choice == "2":
            enemy_list = generate_enemy(player.realm)
            if not enemy_list:
                print("没有找到敌人。")
                continue
            enemy = random.choice(enemy_list)  # 从敌人列表中随机选择一个敌人
            print(f"\n你遇到了 {enemy.realm} 境界的 {enemy.name}！")
            while player.health > 0 and enemy.health > 0:
                damage_dealt = player.attack(enemy)
                print(f"你对 {enemy.name} 造成了 {damage_dealt} 点伤害。")
                if enemy.health <= 0:
                    print(f"{enemy.name} 被击败了！")
                    player.experience += 50  # 战斗胜利获得额外经验
                    player.check_realm_upgrade()
                    break
                damage_taken = enemy.attack(player)
                print(f"{enemy.name} 对你造成了 {damage_taken} 点伤害。")
                if player.health <= 0:
                    print(f"{player.name} 被击败了！游戏结束。")
                    break
        elif choice == "3":
            player.display_status()
        elif choice == "4":
            print("谢谢游玩，再见！")
            break

if __name__ == "__main__":
    main()
